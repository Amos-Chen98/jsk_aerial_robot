<?xml version="1.0"?>
<launch>

  <arg name="imu_board" default="0" />  <!-- 1: d imu board, 0: kduino board -->

  #################################### sensor plugin config ###################################
  <rosparam file="$(find hydrus_transform_control)/config/hydrus3/SensorLoader.yaml" command="load" />

  ################################### sensor param ############################################
  <rosparam file="$(find aerial_robot_base)/config/sensor_plugin/d_imu.yaml" command="load" if="$(arg imu_board)"/>
  <rosparam file="$(find aerial_robot_base)/config/sensor_plugin/kduino.yaml" command="load" unless="$(arg imu_board)"/>
  <rosparam file="$(find aerial_robot_base)/config/sensor_plugin/mocap.yaml" command="load" />
  <rosparam file="$(find aerial_robot_base)/config/sensor_plugin/optical_flow.yaml" command="load" />

  ################################### sensor module ############################################

  ################################# imu ########################################
<group if="$(arg imu_board)" >
  <include file="$(find aerial_robot_base)/launch/sensors/rosserial2.launch" >
    <arg name="baud" value="921600" />
    <arg name="port" value="/dev/ttyUSB1" />
  </include>
</group>

<group unless="$(arg imu_board)" >
  <node pkg="rosserial_python" type="serial_node.py" name="serial_node" output="screen">
    <param name="baud" value="115200" />
    <param name="port" value="/dev/ttyUSB1" />
  </node>
</group>

  ################################ mocap ##########################################

  <include file="$(find aerial_robot_base)/launch/sensors/mocap.launch" />

  ################################# Joy Stick ######################################
<!--
  <include file="$(find aerial_robot_base)/launch/sensors/joy_stick.launch" />
-->
  ################################# optical flow ###################################
<!--
  <include file="$(find aerial_robot_base)/launch/sensors/px4flow.launch" />
-->

</launch>
